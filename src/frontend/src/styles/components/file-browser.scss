// 文件浏览器样式
.file-browser {
  height: 100%;
  display: flex;
  flex-direction: column;
  background: var(--bg-color);
  
  .browser-header {
    height: 48px;
    background: var(--bg-color-overlay);
    border-bottom: 1px solid var(--border-color-lighter);
    display: flex;
    align-items: center;
    padding: 0 var(--space-lg);
    
    .path-breadcrumb {
      flex: 1;
      
      .el-breadcrumb__item {
        .el-breadcrumb__inner {
          color: var(--text-color-regular);
          
          &:hover {
            color: var(--primary-color);
          }
        }
        
        &:last-child .el-breadcrumb__inner {
          color: var(--text-color-primary);
          font-weight: 500;
        }
      }
    }
    
    .browser-actions {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }
  }
  
  .browser-content {
    flex: 1;
    display: flex;
    
    .local-panel,
    .remote-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      border-right: 1px solid var(--border-color-lighter);
      
      &:last-child {
        border-right: none;
      }
      
      .panel-header {
        height: 36px;
        background: var(--fill-color-light);
        display: flex;
        align-items: center;
        padding: 0 var(--space-md);
        border-bottom: 1px solid var(--border-color-lighter);
        
        .panel-title {
          font-size: var(--font-size-small);
          font-weight: 500;
          color: var(--text-color-primary);
        }
      }
      
      .file-list {
        flex: 1;
        overflow-y: auto;
        
        .file-item {
          display: flex;
          align-items: center;
          height: 36px;
          padding: 0 var(--space-md);
          cursor: pointer;
          border-bottom: 1px solid var(--border-color-extra-light);
          transition: all var(--transition-duration);
          
          &:hover {
            background: var(--fill-color-light);
          }
          
          &.selected {
            background: var(--primary-color);
            color: white;
          }
          
          &.dragging {
            opacity: 0.5;
          }
          
          .file-icon {
            width: 20px;
            height: 20px;
            margin-right: var(--space-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            
            &.folder {
              color: var(--warning-color);
            }
            
            &.file {
              color: var(--text-color-secondary);
            }
          }
          
          .file-name {
            flex: 1;
            font-size: var(--font-size-small);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }
          
          .file-size {
            font-size: var(--font-size-extra-small);
            color: var(--text-color-secondary);
            margin-left: var(--space-sm);
          }
          
          .file-date {
            font-size: var(--font-size-extra-small);
            color: var(--text-color-secondary);
            margin-left: var(--space-sm);
            white-space: nowrap;
          }
        }
      }
    }
  }
  
  .transfer-queue {
    height: 120px;
    background: var(--bg-color-overlay);
    border-top: 1px solid var(--border-color-lighter);
    
    .queue-header {
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--space-md);
      background: var(--fill-color-light);
      border-bottom: 1px solid var(--border-color-lighter);
      
      .queue-title {
        font-size: var(--font-size-small);
        font-weight: 500;
        color: var(--text-color-primary);
      }
      
      .queue-actions {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        
        .action-btn {
          padding: 2px 6px;
          font-size: var(--font-size-extra-small);
        }
      }
    }
    
    .queue-content {
      height: 88px;
      overflow-y: auto;
      padding: var(--space-sm);
      
      .transfer-item {
        display: flex;
        align-items: center;
        padding: var(--space-sm);
        margin-bottom: var(--space-xs);
        background: var(--bg-color);
        border: 1px solid var(--border-color-lighter);
        border-radius: var(--border-radius-base);
        
        .transfer-info {
          flex: 1;
          
          .file-path {
            font-size: var(--font-size-small);
            color: var(--text-color-primary);
            margin-bottom: 2px;
          }
          
          .transfer-progress {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            
            .progress-bar {
              flex: 1;
              height: 4px;
              background: var(--fill-color);
              border-radius: 2px;
              overflow: hidden;
              
              .progress-fill {
                height: 100%;
                background: var(--primary-color);
                transition: width var(--transition-duration);
              }
            }
            
            .progress-text {
              font-size: var(--font-size-extra-small);
              color: var(--text-color-secondary);
              white-space: nowrap;
            }
          }
        }
        
        .transfer-status {
          margin-left: var(--space-md);
          
          .status-icon {
            width: 20px;
            height: 20px;
            
            &.uploading,
            &.downloading {
              color: var(--primary-color);
              animation: spin 1s linear infinite;
            }
            
            &.completed {
              color: var(--success-color);
            }
            
            &.failed {
              color: var(--danger-color);
            }
            
            &.paused {
              color: var(--warning-color);
            }
          }
        }
      }
    }
  }
}

// 右键菜单样式
.file-context-menu {
  background: var(--bg-color-overlay);
  border: 1px solid var(--border-color-lighter);
  border-radius: var(--border-radius-base);
  box-shadow: var(--box-shadow-light);
  padding: var(--space-xs) 0;
  
  .menu-item {
    height: 32px;
    padding: 0 var(--space-md);
    display: flex;
    align-items: center;
    cursor: pointer;
    font-size: var(--font-size-small);
    color: var(--text-color-primary);
    transition: all var(--transition-duration);
    
    &:hover {
      background: var(--fill-color-light);
    }
    
    &.disabled {
      color: var(--text-color-placeholder);
      cursor: not-allowed;
    }
    
    .menu-icon {
      width: 16px;
      margin-right: var(--space-sm);
    }
  }
  
  .menu-separator {
    height: 1px;
    background: var(--border-color-lighter);
    margin: var(--space-xs) 0;
  }
}

// 拖拽提示样式
.drop-zone {
  position: relative;
  
  &.drag-over::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(64, 158, 255, 0.1);
    border: 2px dashed var(--primary-color);
    border-radius: var(--border-radius-base);
    pointer-events: none;
  }
}

// 动画
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}